include ../button/button.pug

mixin header(options = {})
  - 
    const {
      logo = {
        imgSrc: "assets/blocks/header/images/logo-toxin.png",
        link: "./landing-page.html",
      },
      nav = [
        {text: "О нас", link: "#", currentPage: true},
        {text: "Услуги", link: "#",
          innerUl:
            [
              { text: "service_1", link: "#" },
              { text: "service_2", link: "#" }, 
              { text: "service_3", link: "#" },
            ],
        },
        { text: "Вакансии", link: "#"},
        { text: "Новости", link: "#"},
        {
          text: "Соглашения", link: "#",
          innerUl: [
            { text: "item-1", link: "#" },
            { text: "item-2", link: "#" },
            { text: "item-3", link: "#" },
            ],
        },
      ],
      buttonLogin = {
        text: "Войти",
        link: "./landing-page.html",
        mod: {color: "white", theme: "slim"}
      },
      buttonRegister = {
        text: "Зарегистрироваться",
        link: "./registration-page.html",
        mod: {theme: "slim"}
      },

      logged = false,
      userName = "Юлий Цезарь",
    } = options;

  .header
    a.header__logo(href= logo.link)
      img(src= logo.imgSrc)
    ul.header__nav
      each val in nav
        li.header__li(class = val.innerUl ? "header__li_submenu " : ""
        class = val.currentPage ? "header__li_current-page" : "")  
          if (val.innerUl) 
            ul.header__submenu
              each subVal in val.innerUl
                li 
                  a.header__a(href= subVal.link) !{subVal.text}
          a.header__a(href=`${val.link}` class= val.currentPage ? "header_current-page" : "") #{val.text}
    if (logged) 
      .header__user-name #{userName}
    else 
      .header__buttons
        .header__button-enter
          +button(buttonLogin)
        .header__button-register
          +button(buttonRegister)