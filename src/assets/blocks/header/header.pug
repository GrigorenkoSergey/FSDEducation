include ../button/button.pug

mixin header(options = {})
  - 
    const {
      nav = [
        {title: "О нас", href: "#", currentPage: true},
        {title: "Услуги", href: "#", innerUl: [
          "service_1", "service_2", "service_3"
        ]},
        {title: "Вакансии", href: "#"},
        {title: "Новости", href: "#"},
        {title: "Соглашения", href: "#", innerUl: []},
      ],
      buttonLogin = {
        text: "Войти",
        mod: {color: "white", theme: "slim"}
      },
      buttonRegister = {
        text: "Зарегистрироваться",
        mod: {theme: "slim"}
      },

      logged = false,
      userName = "Юлий Цезарь",
    } = options;

  .header
    a.header__logo(href="#")
      img(src="assets/blocks/header/images/logo-toxin.png")
    ul.header__nav
      each val in nav
        li.header__li(class = val.innerUl ? "header__li_submenu " : ""
        class = val.currentPage ? "header__li_current-page" : "")  
          if (val.innerUl) 
            ul.header__submenu(class="_invisible")
              each subVal in val.innerUl
                li 
                  a.header__a(href="#") !{subVal}
          a.header__a(href=`${val.href}` class= val.currentPage ? "header_current-page" : "") #{val.title}
    if (logged) 
      .header__user-name #{userName}
    else 
      .header__buttons
        .header__button-enter
          +button(buttonLogin)
        .header__button-register
          +button(buttonRegister)