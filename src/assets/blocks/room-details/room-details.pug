include ../../../assets/blocks/buns/buns.pug
include ../../../assets/blocks/comment/comment.pug
include ../../../assets/blocks/final-bill/final-bill.pug
include ../../../assets/blocks/bullet-list/bullet-list.pug
include ../../../assets/blocks/diagram/diagram.pug

mixin room-details(options = {})
  -
    const {
      photos = [
        {
          src: "image-1.jpg",
          alt: "Изображение комнаты",
        },
        {
          src: "image-2.jpg",
          alt: "Изображение комнаты",
        },
        {
          src: "image-3.jpg",
          alt: "Изображение комнаты",
        },
      ],
      buns = {
        title: "Сведение о номере",
        bunsOptions:  {
          items: [
            {name: "smile", title: "Комфорт", description: "Шумопоглощающие стены"},
            {name: "city", title: "Удобство", description: "Окно в каждой из спален"},
            {name: "fire", title: "Уют", description: "Номер оснащен камином"},
          ],
        },
      },
      impressions = {
        title: "Впечатления от номера",
        diagramOptions,
      },
      comments = {
        h2Text: "Отзывы посетителей номера",
        span: "2 отзыва",
        items: [
          {
            avatarSrc: "comment-murad.png",
            name: "Мурад Сарафанов",
            term: "5 дней назад", 
            likeButton: {
              counter: 12,
              isPushed: true,
            },
            content: "Великолепный матрас на кровати в основной спальне! А пуфик вообще потрясающий. И стены, действительно, шупомодавляющие. Выкрикивал комплименты повару — никто не жаловался из соседей.",
          },
          {
            avatarSrc: "comment-patricia.png",
            name: "Патрисия Стёклышкова",
            term: "Неделю назад", 
            likeButton: {
              counter: 2,
              isPushed: false,
            },
            content: `Обслуживание на высоте! Все аккуратно, чисто. Завтраки в номер 
              советую заказать, каждый день новое блюдо и десерт как комплимент`,
          },
        ],
      },
      rules = {
        title: "Правила",
        bulletListOptions,
      },
      cancel = {
        h2Text: "Отмена",
        pText: "Бесплатная отмена в течение 48 ч. После этого при отмене не позднее чем за 5 дн. до прибытия вы получите полный возврат за вычетом сбора за услуги.",
      },
      finalBill,
    } = options;

  .room-details__photos
    .room-details__photos-box
      img.room-details__photos-img(src= require(`../../../assets/blocks/room-details/images/${photos[0].src}`) alt= photos[0].alt)
    .room-details__photos-box
      img.room-details__photos-img(src= require(`../../../assets/blocks/room-details/images/${photos[1].src}`) alt= photos[0].alt)
      img.room-details__photos-img(src= require(`../../../assets/blocks/room-details/images/${photos[2].src}`) alt= photos[0].alt)

  main.room-details__main
    .room-details__column-1
      .room-details__buns-and-impressions
        .room-details__buns
          .room-details__title
            h2 #{buns.title}
          +buns(buns.bunsOptions)
        .room-details__impressions
          .room-details__title
            h2 #{impressions.title}
          .room-details__diagram
            +diagram(impressions.diagramOptions)

      .room-details__comments
        .room-details__comments-title
          h2 #{comments.h2Text}
          span #{comments.span} 
        each val in comments.items
          .room-details__comments-comment
            +comment(val)
      .room-details__rules-and-cancel
        .room-details__rules
          .room-details__rules-title
            h2 #{rules.title}
          +bullet-list(rules.bulletListOptions)
        .room-details__cancel
          .room-details__cancel-title
            h2 #{cancel.h2Text}
          p #{cancel.pText}

    .room-details__column-2
      +final-bill(finalBill)