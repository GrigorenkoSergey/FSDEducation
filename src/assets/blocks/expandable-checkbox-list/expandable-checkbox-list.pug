include ../checkbox-list/checkbox-list.pug

mixin expandable-checkbox-list(options = {})
  - 
    const defaultOptions = require('Blocks/expandable-checkbox-list/default-options.json');
    const { title, expanded, togglers, items, checked } = { ...defaultOptions, ...options };

    if (items.length) {
      checked.forEach(itemsIndex => items[itemsIndex].checked = true);
    }

    const className = (expanded === true) ? "expandable-checkbox-list__title_expanded" : ""; 

  .expandable-checkbox-list.js-expandable-checkbox-list
    h3.expandable-checkbox-list__title.js-expandable-checkbox-list__title(class= `${className}`) #{title} 
      .expandable-checkbox-list__toggler
        - const icon = togglers[Number(expanded)];
        i.material-icons.js-material-icons #{icon}
    .expandable-checkbox-list__list
      +checkbox-list({items, expanded})